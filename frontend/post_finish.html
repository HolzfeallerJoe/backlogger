<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>{{ title }}</title>
  </head>
  <body>
    {% from 'components/alert.html' import alert %}
    {% include 'components/nav_bar.html' %}

    <div class="overflow-hidden bg-white py-24 sm:py-32">
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2">
          <form id="add-post-finish-form"
                onsubmit="send_post_finish(event)"
                class="lg:pt-4 lg:pr-8">
            <div class="lg:max-w-lg">
              <p class="mt-2 text-4xl font-semibold tracking-tight text-pretty text-gray-900 sm:text-5xl">
                Enter Post Finish Statistics
              </p>
              <p class="mt-6 text-lg/8 text-gray-600">
                Finishing a game can have multiple meanings!
                <br />
                What is your opinion about the game now that you played it?
              </p>

              <div class="mt-10 max-w-xl grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-6">
                <div class="inline-flex items-center space-x-2">
                  <svg xmlns="http://www.w3.org/2000/svg"
                       fill="none"
                       viewBox="0 0 24 24"
                       stroke-width="1.5"
                       stroke="currentColor"
                       class="h-5 w-5 text-indigo-600 flex-shrink-0"
                       aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
                  </svg>
                  <label for="dropped"
                         class="font-semibold text-gray-900">
                    dropped
                  </label>
                  <label class="relative inline-block w-11 h-6 ml-auto">
                    <input type="checkbox"
                           id="dropped"
                           name="dropped"
                           class="sr-only peer" />
                    <span class="block w-full h-full bg-gray-200 rounded-full peer-checked:bg-indigo-600"></span>
                    <span class="absolute top-1 left-1 w-4 h-4 bg-white rounded-full transform peer-checked:translate-x-5"></span>
                  </label>
                </div>

                <div class="inline-flex items-center space-x-2">
                  <svg xmlns="http://www.w3.org/2000/svg"
                       fill="none"
                       viewBox="0 0 24 24"
                       stroke-width="1.5"
                       stroke="currentColor"
                       class="h-5 w-5 text-indigo-600 flex-shrink-0">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0" />
                  </svg>

                  <label for="credits"
                         class="font-semibold text-gray-900">
                    credits
                  </label>
                  <label class="relative inline-block w-11 h-6 ml-auto">
                    <input type="checkbox"
                           id="credits"
                           name="credits"
                           class="sr-only peer" />
                    <span class="block w-full h-full bg-gray-200 rounded-full peer-checked:bg-indigo-600"></span>
                    <span class="absolute top-1 left-1 w-4 h-4 bg-white rounded-full transform peer-checked:translate-x-5"></span>
                  </label>
                </div>

                <div class="inline-flex items-center space-x-2">
                  <svg xmlns="http://www.w3.org/2000/svg"
                       fill="none"
                       viewBox="0 0 24 24"
                       stroke-width="1.5"
                       stroke="currentColor"
                       class="h-5 w-5 text-indigo-600 flex-shrink-0"
                       aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  <label for="time_played"
                         class="font-semibold text-gray-900">
                    time_played
                  </label>
                  <input type="number"
                         id="time_played"
                         name="time_played"
                         class="block w-16 px-2 py-1 text-center text-gray-900 placeholder-gray-400 border border-gray-300 rounded-md focus:outline-none focus:border-indigo-500 sm:text-sm/6 ml-auto"
                         min="0"
                         placeholder="0"
                         required />
                </div>

                <div class="inline-flex items-center space-x-2">
                  <svg xmlns="http://www.w3.org/2000/svg"
                       fill="none"
                       viewBox="0 0 24 24"
                       stroke-width="1.5"
                       stroke="currentColor"
                       class="h-5 w-5 text-indigo-600 flex-shrink-0">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 2.994v2.25m10.5-2.25v2.25m-14.252 13.5V7.491a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v11.251m-18 0a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25m-18 0v-7.5a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v7.5m-6.75-6h2.25m-9 2.25h4.5m.002-2.25h.005v.006H12v-.006Zm-.001 4.5h.006v.006h-.006v-.005Zm-2.25.001h.005v.006H9.75v-.006Zm-2.25 0h.005v.005h-.006v-.005Zm6.75-2.247h.005v.005h-.005v-.005Zm0 2.247h.006v.006h-.006v-.006Zm2.25-2.248h.006V15H16.5v-.005Z" />
                  </svg>

                  <label for="duration"
                         class="font-semibold text-gray-900">
                    duration
                  </label>

                  <div class="flex border border-gray-300 rounded-md focus-within:border-indigo-500 transition-colors">
                    <input type="number"
                           id="duration"
                           name="duration"
                           class="w-16 px-2 py-1 text-center text-gray-900 placeholder-gray-400 border-none focus:outline-none sm:text-sm"
                           min="0"
                           placeholder="0"
                           required />

                    <select id="period"
                            name="period"
                            class="px-2 py-1 text-gray-900 bg-white border-none focus:outline-none sm:text-sm"
                            required>
                      <option>
                        Days
                      </option>
                      <option>
                        Months
                      </option>
                      <option>
                        Years
                      </option>
                    </select>
                  </div>
                </div>

                <div class="flex items-center justify-between sm:col-span-2">
                  <div class="inline-flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         fill="none"
                         viewBox="0 0 24 24"
                         stroke-width="1.5"
                         stroke="currentColor"
                         class="h-5 w-5 text-indigo-600 flex-shrink-0">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
                    </svg>
                    <span class="font-semibold text-gray-900">Rating</span>
                    <div class="flex space-x-1">
                      <input type="radio"
                             name="rating"
                             value="1"
                             id="rating-1"
                             checked
                             class="sr-only"
                             required />
                      {% for i in range(1, 11) %}
                        <input type="radio"
                               name="rating"
                               value="{{ i }}"
                               id="rating-{{ i }}"
                               class="sr-only peer"
                               {% if rating == i %}checked{% endif %} />
                        <label for="rating-{{ i }}"
                               class="cursor-pointer">
                          <svg xmlns="http://www.w3.org/2000/svg"
                               viewBox="0 0 20 20"
                               class="h-6 w-6 text-gray-300 fill-current">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.946a1 1 0 00.95.69h4.15c.969 0 1.371 1.24.588 1.81l-3.36 2.44a1 1 0 00-.364 1.118l1.286 3.946c.3.921-.755 1.688-1.538 1.118l-3.36-2.44a1 1 0 00-1.176 0l-3.36 2.44c-.783.57-1.838-.197-1.538 -1.118l1.286-3.946a1 1 0 00-.364-1.118L2.374 9.373c-.783-.57-.38-1.81.588-1.81h4.15a1 1 0 00.95-.69L9.049 2.927z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" />
                          </svg>
                        </label>
                      {% endfor %}
                    </div>
                  </div>

                  <div class="inline-flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         fill="none"
                         viewBox="0 0 24 24"
                         stroke-width="1.5"
                         stroke="currentColor"
                         class="h-5 w-5 text-indigo-600 flex-shrink-0">
                      >
                      <path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z" />
                    </svg>

                    <label for="worth"
                           class="font-semibold text-gray-900">
                      worth
                    </label>
                    <label class="relative inline-block w-11 h-6">
                      <input type="checkbox"
                             id="worth"
                             name="worth"
                             class="sr-only peer" />
                      <span class="block w-full h-full bg-gray-200 rounded-full peer-checked:bg-indigo-600"></span>
                      <span class="absolute top-1 left-1 w-4 h-4 bg-white rounded-full transform peer-checked:translate-x-5"></span>
                    </label>
                  </div>
                </div>

                <div class="flex items-start space-x-2 sm:col-span-2">
                  <svg xmlns="http://www.w3.org/2000/svg"
                       fill="none"
                       viewBox="0 0 24 24"
                       stroke-width="1.5"
                       stroke="currentColor"
                       class="h-5 w-5 text-indigo-600 flex-shrink-0">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
                  </svg>

                  <div class="flex-1">
                    <label for="reason"
                           class="block font-semibold text-gray-900 mb-1">
                      reason
                    </label>
                    <textarea id="reason"
                              name="reason"
                              rows="3"
                              class="block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                              placeholder="Your concluding thoughts…"></textarea>
                  </div>
                </div>
                <div class="sm:col-span-2">
                  <button type="submit"
                          id="post-finish-submit"
                          class="w-full inline-flex justify-center py-3 px-4 text-base font-medium rounded-md bg-indigo-600 text-white focus:outline-none">
                    Finish the game for good
                  </button>
                </div>
              </div>
            </div>
          </form>

          <div class="mt-2.5 relative group">
            {% include 'components/combo_box.html' %}

            <div id="game-card"
                 class="bg-white shadow rounded-lg overflow-hidden">
              <div class="px-6 py-5 flex items-center justify-between">
                <div>
                  <h3 id="card-game-name"
                      class="inline-flex items-center space-x-3">
                    <span id="card-game-title"
                          class="text-lg font-medium text-gray-900">No game selected</span>
                    <span id="card-est-badge"
                          class="inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-indigo-100 text-indigo-800">–</span>
                  </h3>
                  <p id="card-excitement-value"
                     class="mt-1 text-sm text-gray-500">
                    –
                  </p>
                </div>

                <div id="card-image-wrapper"
                     class="w-[231px] h-[87px] bg-gray-100 rounded-md flex items-center justify-center">
                  <img id="card-game-image"
                       class="max-w-full max-h-full hidden"
                       src=""
                       alt="Game thumbnail" />
                  <span id="card-image-fallback"
                        class="text-sm text-gray-500 hidden">No image found</span>
                </div>
              </div>

              <div class="border-t border-gray-200 px-6 py-4">
                <div class="flex space-x-4">
                  <div id="card-released-block"
                       class="flex-1 flex items-center px-4 py-2 rounded-md">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         fill="none"
                         viewBox="0 0 24 24"
                         stroke-width="1.5"
                         stroke="currentColor"
                         class="h-5 w-5 mr-2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
                    </svg>

                    <span>Released</span>
                  </div>

                  <div id="card-purchased-block"
                       class="flex-1 flex items-center px-4 py-2 rounded-md">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         fill="none"
                         viewBox="0 0 24 24"
                         stroke-width="1.5"
                         stroke="currentColor"
                         class="h-5 w-5 mr-2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
                    </svg>
                    <span>Purchased</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="alert-container"
         class="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 px-4">
    </div>

    <script type="text/template" id="alert-success-template">
    {{ alert(
         type='success',
         title='Success!',
         message='__SUCCESS_MESSAGE__'
       ) }}
    </script>
    <script type="text/template" id="alert-error-template">
    {{ alert(
         type='danger',
         title='Oops!',
         message='__ERROR_MESSAGE__'
       ) }}
    </script>
    <script type="application/json" id="games-data">
      {{ games | tojson }}
    </script>
    <script src="{{ url_for('static', path='post_finish.js') }}"></script>
  </body>
</html>
